(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{684:function(t,r,e){"use strict";e.r(r);e(26),e(72),e(98),e(22),e(10);var n=e(686),c=(e(19),e(4)),o=e(651),l=e(673),d={props:{src:String},watch:{$props:{deep:!0,handler:function(t){this.props=JSON.parse(JSON.stringify(t)),this.midiInit()}}},data:function(){return{props:JSON.parse(JSON.stringify(this.$props)),midi:!1,tracksToPlay:[],synths:[]}},methods:{midiInit:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.props.src){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,o.Midi.fromUrl(t.props.src);case 4:t.midi=r.sent,t.midiDuration=0,t.tracksToPlay=Object(n.a)(Array(t.midi.tracks.length).keys()),t.synths=[];case 8:case"end":return r.stop()}}),r)})))()},play:function(){var t=this,r=l.c()+.5;this.midi.tracks.forEach((function(track,e){if(t.tracksToPlay.includes(e)){var n=new l.a(l.b,{envelope:{attack:.02,decay:.1,sustain:.3,release:1}}).toDestination();t.synths.push(n),track.notes.forEach((function(t){n.triggerAttackRelease(t.name,t.duration,t.time+r,t.velocity)}))}}))},stop:function(){for(;this.synths.length;){this.synths.shift().disconnect()}}},mounted:function(){this.midiInit()}},m=e(12),component=Object(m.a)(d,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[t.midi?e("div",{staticClass:"border border-primary"},[e("div",{staticClass:"bg-primary"},[t._v("Midi Player - "+t._s(t.midi.header.name))]),t._v(" "),e("div",{staticClass:"bg-light"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(r){return t.play()}}},[t._v("play")]),t._v(" "),e("a",{attrs:{href:"javascript:;"},on:{click:function(r){return t.stop()}}},[t._v("stop")])]),t._v(" "),e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"list-group list-group-flush"},t._l(t.midi.tracks,(function(r,n){return e("label",{staticClass:"list-group-item p-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tracksToPlay,expression:"tracksToPlay"}],attrs:{type:"checkbox"},domProps:{value:n,checked:Array.isArray(t.tracksToPlay)?t._i(t.tracksToPlay,n)>-1:t.tracksToPlay},on:{change:function(r){var e=t.tracksToPlay,c=r.target,o=!!c.checked;if(Array.isArray(e)){var l=n,d=t._i(e,l);c.checked?d<0&&(t.tracksToPlay=e.concat([l])):d>-1&&(t.tracksToPlay=e.slice(0,d).concat(e.slice(d+1)))}else t.tracksToPlay=o}}}),t._v("\r\n                        "+t._s(r.instrument.name)+" ("+t._s(r.instrument.family)+")\r\n                    ")])})),0)]),t._v(" "),e("div",{staticClass:"col-9 bg-dark"},[t._v("\r\n                Aaa\r\n            ")])]),t._v(" "),e("pre",[t._v(t._s(t.midiDuration))]),t._v(" "),e("pre",[t._v(t._s(t.tracksToPlay))]),t._v(" "),e("pre",[t._v(t._s(t.midi))])]):t._e()])}),[],!1,null,null,null);r.default=component.exports},728:function(t,r,e){"use strict";e.r(r);var n={data:function(){return{midi:!1,midis:[{title:"Bach - Boureé",src:"/assets/bach-bourree.mid"},{title:"Guns n Roses - Sweet Child o Mine",src:"/assets/guns-n-roses-sweet-child-o-mine.mid"},{title:"Raça Negra - Cheia de Manias",src:"/assets/raca-negra-cheia-de-manias.mid"},{title:"Tema Simpsons",src:"/assets/simpsons.mid"},{title:"Tema South Park",src:"/assets/south-park.mid"}]}}},c=e(12),component=Object(c.a)(n,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"list-group"},t._l(t.midis,(function(r){return e("div",{staticClass:"list-group-item",class:{"list-group-item-primary":r==t.midi},on:{click:function(e){t.midi=r}}},[t._v("\r\n                    "+t._s(r.title)+"\r\n                ")])})),0)]),t._v(" "),e("div",{staticClass:"col-9"},[t.midi?e("midi-player",{attrs:{src:t.midi.src}}):t._e()],1)]),t._v(" "),e("pre",[t._v(t._s(t.$data))])])}),[],!1,null,null,null);r.default=component.exports;installComponents(component,{MidiPlayer:e(684).default})}}]);